-- âœ… Ultimate Pet Randomizer ESP v3 with v2 Activator (Clean Version)

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local SoundService = game:GetService("SoundService")
local HttpService = game:GetService("HttpService")

local player = Players.LocalPlayer
local camera = Workspace.CurrentCamera

-- ğŸ¾ Pet mappings
local petTable = {
	["Common Egg"] = {"Golden Lab", "Dog", "Bunny"},
	["Uncommon Egg"] = {"Black Bunny", "Chicken", "Cat", "Deer"},
	["Rare Egg"] = {"Orange Tabby", "Spotted Deer", "Pig", "Rooster", "Monkey"},
	["Legendary Egg"] = {"Cow", "Silver Monkey", "Sea Otter", "Turtle", "Polar Bear"},
	["Mythical Egg"] = {"Grey Mouse", "Brown Mouse", "Squirrel", "Red Giant Ant", "Red Fox"},
	["Bug Egg"] = {"Dragonfly", "Disco Bee", "Ant", "Ladybug"}
}

-- ğŸ–¼ï¸ Pet icons
local petIcons = {
	["Dog"] = "ğŸ¶", ["Golden Lab"] = "ğŸ•", ["Bunny"] = "ğŸ°",
	["Black Bunny"] = "â¬›ğŸ°", ["Chicken"] = "ğŸ”", ["Cat"] = "ğŸ±", ["Deer"] = "ğŸ¦Œ",
	["Orange Tabby"] = "ğŸ§¡ğŸ±", ["Spotted Deer"] = "ğŸ†ğŸ¦Œ", ["Pig"] = "ğŸ·", ["Rooster"] = "ğŸ“", ["Monkey"] = "ğŸµ",
	["Cow"] = "ğŸ„", ["Silver Monkey"] = "âšªğŸµ", ["Sea Otter"] = "ğŸ¦¦", ["Turtle"] = "ğŸ¢", ["Polar Bear"] = "ğŸ»â€â„ï¸",
	["Grey Mouse"] = "ğŸ­", ["Brown Mouse"] = "ğŸŸ¤ğŸ­", ["Squirrel"] = "ğŸ¿ï¸", ["Red Giant Ant"] = "ğŸŸ¥ğŸœ", ["Red Fox"] = "ğŸ¦Š",
	["Dragonfly"] = "ğŸ²ğŸª°", ["Disco Bee"] = "âœ¨ğŸ", ["Ant"] = "ğŸœ", ["Ladybug"] = "ğŸ"
}

-- ğŸ”Š Sound
local function playSound()
	local sound = Instance.new("Sound", SoundService)
	sound.SoundId = "rbxassetid://9118823102"
	sound.Volume = 1
	sound:Play()
	game.Debris:AddItem(sound, 2)
end

-- ğŸ¯ Create ESP label
local function createESP(egg)
	local gui = Instance.new("BillboardGui")
	gui.Name = "PetESP"
	gui.Adornee = egg
	gui.Size = UDim2.new(0, 100, 0, 40)
	gui.AlwaysOnTop = true

	local label = Instance.new("TextLabel", gui)
	label.Size = UDim2.new(1, 0, 1, 0)
	label.BackgroundTransparency = 1
	label.TextScaled = true
	label.TextColor3 = Color3.fromRGB(255, 255, 255)
	label.Font = Enum.Font.GothamBold

	gui.Parent = egg
	return label
end

-- ğŸ” Randomizer + countdown
local function startRandomizer(egg, eggType)
	local label = createESP(egg)
	local countdown = 10

	coroutine.wrap(function()
		while egg:IsDescendantOf(Workspace) do
			for i = countdown, 1, -1 do
				label.Text = "â³ " .. i .. "s..."
				wait(1)
			end

			local petList = petTable[eggType]
			if petList then
				local pet = petList[math.random(1, #petList)]
				local icon = petIcons[pet] or ""
				label.Text = icon .. " " .. pet
				playSound()
			else
				label.Text = "â“ Unknown"
			end
		end
	end)()
end

-- ğŸ” Scan eggs and attach ESP
local function scan()
	for _, egg in pairs(Workspace:GetDescendants()) do
		if egg:IsA("BasePart") and petTable[egg.Name] and not egg:FindFirstChild("PetESP") then
			startRandomizer(egg, egg.Name)
		end
	end
end

-- ğŸ§  Main loop
RunService.RenderStepped:Connect(function()
	scan()
end)

-- âœ… Activator: Auto-load ESPv2 when v3 starts
local success, err = pcall(function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/gagxscripter/egg-pet-randomizer/refs/heads/main/ESPv2"))()
end)

if not success then
	warn("Failed to load ESPv2:", err)
end
